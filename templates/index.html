
<!-- extender de  la plantilla base -->
{%extends 'base.html'%} 
{% block style %}<link rel="stylesheet" href="/static/css/index.css" />{% endblock %}> 

{% block title%} Inicio {% endblock %}

{% block nav %}
<nav>

    <div class="logo">

        <a href="{{url_for('inicio')}}">
            <img src="https://cdn-icons-png.flaticon.com/512/7677/7677701.png" alt="logo">
            <h1>center mail</h1>
        </a>
        
            
    </div>

    <div id="navegador">
        <ul>
            <!--  onclick="ver(1)"  --> 
        <li  id="seccion1"onmouseover="ver(1)" onmouseout="ocultar(1)">{{session['userName']}}</a><i class="fa-light fa-arrow-down-long"></i>
            <div id="subseccion1">
                <div><p>va la descripcion</p></div>
                <a href="{{url_for('profile',id=session['id'])}}">Perfil</a>              
                <p><a  id="logout"> Cerrar sesión</a></p>
                <p><a href="#"> Subsección uno tres</a></p>
                <p><a href="#"> Subsección uno cuatro</a></p> 
            </div>
        </li>
        </ul>
    </div>
    
</nav>

{% endblock %}

{% block body %}
    

    <!-- MENSAJES ENVIADOS -->
    {% if messagesEnd != 'no mensajes' %}
        <caption>Mensajes Enviados</caption>
        <a href="{{url_for('sendMessage')}}">Envíar mensaje</a>        
        <a class="btnEliminar" href="">eliminar</a>
        <a class="btnEditar" href="">Editar</a>

        <!-- TABLA mensajes enviados -->
         <table>
            <thead>
                <tr>
                    <th></th>    
                    <th>Destinatarios</th>
                    <th>Asunto</th>
                    <th>Fecha</th>
                </tr>
            </thead>
            <tbody>

        {% for message in messagesEnd %}
           
            <tr>
            
                <td><input class="checkbox" type="checkbox" name="message" value="{{message[0]}}"></td> <!-- guarda el id del mensaje --> 
                <td>{{message[1]}}</td>
                <td>{{message[2]}}</td>
                <td>{{message[3]}}</td>
            </tr>
               
        {% endfor %}
            </tbody>
        </table>

    {% else %}
        <p>No hay mensajes enviados</p>
    {% endif %}
            

    <!-- MENSAJES Recibidos -->
    {% if messagesRecibidos != 'no mensajes' %}
    <caption>Mensajes Recibidos</caption>
    <!-- TABLA  -->
    <table>
        <thead>
            <tr>
                <th></th>    
                <th>Remitente</th>
                <th>Asunto</th>
                <th>Fecha</th>
            </tr>
        </thead>
        <tbody>
    {% for message in messagesRecibidos %}
        
        <tr>
            <td><input id="id-recibido"  type="hidden" value="{{message[0]}}"></td> <!-- guarda el id del mensaje --> 
            <td>{{message[1]}}</td> 
            <td>{{message[2]}}</td>
            <td>{{message[3]}}</td>
        </tr>
            
    {% endfor %}
        </tbody>
    </table>

{% else %}
    <p>No hay mensajes recibidos</p>
{% endif %}



   

    
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- mensaje cerrar sesión -->
<script  src="/static/js/logout.js"></script>
<!-- seleccionar solo un checkbox -->
<script src="/static/js/checkBox.js"></script>
<!-- eliminar-editar -->
<script src="/static/js/EditarEliminar.js"></script>
<!-- Mensajes de edición e eliminación - confirmación -->
<script src="/static/js/Mensajes.js"></script>
<!-- muestrá el menú despegable -->
<script>
    
        function ver(n) {
                 document.getElementById("subseccion"+n).style.display="block"
                 }
        function ocultar(n) {
                 document.getElementById("subseccion"+n).style.display="none"
                 }
        
</script>

{% endblock %}


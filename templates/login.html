<!-- extender de  la plantilla base -->
{%extends 'base.html'%} 
{% block style %}<link rel="stylesheet" href="/static/css/form.css" />{% endblock %}

{% block title%} Login {% endblock %}

{% block body %}
<!-- lo que se hace al envíar el formulario se programa en las rutas (app - /login) -->
<form action="{{url_for('login')}}" method="POST">
    {{ form.csrf_token }} <!-- esto es un token para evitar ataques -->

    <h1>Sign in</h1>
    <p>Ingrese sus datos para poder ingresar!</p>

    {{ form.usuario(placeholder="Email" )}}
    {{ form.password(size=30,placeholder='Contraseña') }}
    {{form.submit}}


    {% with messages = get_flashed_messages() %} <!-- obtiene los mensajes flash --> 
    {% if messages %} <!-- si hay mensajes -->
        
        {% for message in messages %} <!-- Recorre los mensajes -->
        <p id="error">{{ message }}</p>
        {% endfor %}
        
    {% endif %}
    {% endwith %}
    
    <a href="register">Registrarce</a>
    <a href="Activate">Activar cuenta</a> 
    <a href="recuperacion">¿Olvidaste tu Contraseña?</a>

</form>
>
{% endblock %}
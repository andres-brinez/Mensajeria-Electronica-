<!-- extender de  la plantilla base -->
{%extends 'base.html'%} 
{% block style %}<link rel="stylesheet" href="/static/css/profile.css" />{% endblock %}> 
{% block title%} Perfil{% endblock %}sty 

{% block body %}
  

  <h2>Perfil</h2>
  
  <!-- obtiene los mensajes flash --> 
  {% with messages = get_flashed_messages() %} 
    {% if messages %} <!-- si hay mensajes -->      
      {% for message in messages %} <!-- Recorre los mensajes -->

        {% if message == 'contraseña  actualizada' %} <!-- si el mensaje es de contraseña actualizada -->
          <div id="success" role="alert">
            {{message}}
          </div>
        {% else %} <!-- si el mensaje es de error -->
          <p id="error">{{ message }}</p>
        {% endif %}
      {% endfor %}  
    {% endif %}
  {% endwith %}

  <!-- <div class="warpper"> -->
    <input class="radio" id="one" name="group" type="radio" checked>
    <input class="radio" id="two" name="group" type="radio">
    <input class="radio" id="three" name="group" type="radio">

    <div class="tabs">
    <label class="tab" id="one-tab" for="one">Perfil</label>
    <label class="tab" id="two-tab" for="two">Editar Perfil</label>
    <label class="tab" id="three-tab" for="three">Cambio contraseña</label>
    </div>
    
    <div class="panels">
      <!-- ver pefil -->
      <div class="panel" id="one-panel">
        {% for p in profile %}

          <h5>Sobre  mi </h5>
          <p>{{p[2]}}</p>

          <h5>Detalles del perfil</h5>
          <p>Nombre: {{p[9]}}</p> 
          <p>Correo: {{p[1]}}</p>
          <p>Telefono: {{p[5]}}</p>
          <p>Compañia: {{p[3]}}</p>
          <p>Cargo: {{p[4]}}</p>
          <p>Pais: {{p[6]}}</p>
          
          

               
        {% endfor %}
      </div>
      <!-- editar perfil -->
      <div class="panel" id="two-panel">
        <div class="panel-title">Take-Away Skills</div>
        <p>You will learn many aspects of styling web pages! You’ll be able to set up the correct file structure, edit text and colors, and create attractive layouts. With these skills, you’ll be able to customize the appearance of your web pages to suit your every need!</p>
      </div>
      <!-- cambio de contraseña -->
      <div class="panel" id="three-panel">
        
        <!-- lo que se hace al envíar el formulario se programa en las rutas (app - /login) -->
        <form action="" method="POST">
          {{ form['formPassword'].csrf_token }} <!-- esto es un token para evitar ataques -->

          {{ form['formPassword'].actual.label}}
          {{ form['formPassword'].actual()}}

          {{ form['formPassword'].nueva.label}}
          {{ form['formPassword'].nueva()}}

          {{ form['formPassword'].confNueva.label}}
          {{ form['formPassword'].confNueva()}}

          {{form['formPassword'].submit}}

      
      </div>
    </div>
  <!-- </div> -->




{% endblock %}
